# 领域驱动
搭建的项目大致分接口层，服务层，仓储层，基础设施层这几个。本框架也是在这个基础上做了调整来较好的使用我们的业务。写代码的人主要是关心这个里面。

01—modules 可以看作是接口层。我们的服务,仓储层,基础设施层都在02—core里面。写代码的人95%都是这个里面。一般会把这个三层个分为三个项目,我们把这个三层在一个项目项目分了三个文件夹来做。分三个会显得项目太繁琐。

![DDD](/images/DDD.png)

## 说明
服务层和仓储层里面都是根据实体来分文件夹的。这样能很好的找到我们的代码。

## 仓储层
存放实体和仓储层接口,一般存放三个文件。IXXXXRepository  xxxxEntity,xxxxxEntity.Extend。

![仓储](/images/仓储.png)


xxxxEntity 做实体和数据的映射

xxxxxEntity.Extend 做一些其他的操作,不是表的字段放这个里面

## 基础设施层
全部放到 Repositories 文件夹里面。我们操作数据就是在这个里面写的,为了后面的维护，以及代码一致姓,xxxRepositoriy 用来操作数据，我们服务层直接调用仓储层的接口就行

## 服务层
![服务](/images/服务.png)

除了有我们的服务接口和实现以外，每个文件夹中都有一个 _MapperConfig的文件继承IMapperConfig，这个就是我们在 04_Mapper里面做的配置。这样就能很好的区分,不需要把配置文件全都推在一起。Dto里面放查询，返回的实体。


## 引用问题
操作一张表就需要引用对应的仓储层的接口。服务层之间不允许引用,避免操作系统的循环引用。基础设施层尽量也要互相引用，除非你很明白你的操作。